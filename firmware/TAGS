
eeprom.c,1190
void eep_readUSBHidReportDescriptor()eep_readUSBHidReportDescriptor24,970
void eep_saveUSBHidReportDescriptor()eep_saveUSBHidReportDescriptor35,1435
void eep_readUSBDataSequence()eep_readUSBDataSequence49,1938
void eep_saveUSBDataSequence()eep_saveUSBDataSequence76,2704
void eep_readUSBDescriptorStringVendor()eep_readUSBDescriptorStringVendor88,3026
void eep_saveUSBDescriptorStringVendor()eep_saveUSBDescriptorStringVendor95,3257
void eep_readUSBDescriptorStringDevice()eep_readUSBDescriptorStringDevice105,3571
void eep_saveUSBDescriptorStringDevice()eep_saveUSBDescriptorStringDevice112,3802
void eep_readUSBDescriptorStringSerialNumber()eep_readUSBDescriptorStringSerialNumber122,4116
void eep_saveUSBDescriptorStringSerialNumber()eep_saveUSBDescriptorStringSerialNumber129,4359
void eep_readUSBCfgVendorID()eep_readUSBCfgVendorID139,4685
void eep_saveUSBCfgVendorID()eep_saveUSBCfgVendorID148,4954
void eep_readUSBCfgDeviceID()eep_readUSBCfgDeviceID157,5250
void eep_saveUSBCfgDeviceID()eep_saveUSBCfgDeviceID166,5521
void eep_toggleUSBConfigBit(uint8_t bit)eep_toggleUSBConfigBit175,5819
void eep_deleteUSBConfigBits()eep_deleteUSBConfigBits187,6107

main.c,459
int __attribute__((noreturn)) main(void)main21,891
void init(void)init41,1202
void _loadEEPROMConfig()_loadEEPROMConfig91,2828
void interpretUSBDataSequence()interpretUSBDataSequence179,6320
void usbReset( void )usbReset236,8073
uchar usbFunctionRead(uchar *data, uchar len)usbFunctionRead259,8742
uchar usbFunctionDescriptor(usbRequest_t *rq)usbFunctionDescriptor333,11445
usbMsgLen_t usbFunctionSetup(uchar data[8])usbFunctionSetup378,13209

tty.c,1877
void tty_init()tty_init21,885
static int _uart_putc(char c, FILE *stream)_uart_putc37,1238
void tty_pollTerminal(void)tty_pollTerminal44,1399
int tty_executeCmd(const char *buffer)tty_executeCmd184,6850
void tty_ledRedOn()tty_ledRedOn247,8812
void tty_ledRedOff()tty_ledRedOff252,8893
void tty_ledGreenOn()tty_ledGreenOn257,8974
void tty_ledGreenOff()tty_ledGreenOff262,9063
void tty_ledYellowOn()tty_ledYellowOn267,9152
void tty_ledYellowOff()tty_ledYellowOff272,9245
void tty_setInterrupt()tty_setInterrupt278,9418
void tty_setInterrupt3()tty_setInterrupt3287,9609
void tty_getUSBReportData()tty_getUSBReportData296,9768
void tty_getUSBDataSequence()tty_getUSBDataSequence308,10085
void tty_getUSBHidDeviceDescriptor()tty_getUSBHidDeviceDescriptor322,10502
void tty_getVendorName()tty_getVendorName333,10844
void tty_getDeviceName()tty_getDeviceName347,11220
void tty_getSerialNumber()tty_getSerialNumber361,11598
void tty_getUSBConfigVendorID()tty_getUSBConfigVendorID376,12048
void tty_getUSBConfigDeviceID()tty_getUSBConfigDeviceID381,12157
void tty_setUSBReportData()tty_setUSBReportData386,12268
void tty_setUSBDataSequence()tty_setUSBDataSequence392,12376
void tty_setUSBHidDeviceDescriptor()tty_setUSBHidDeviceDescriptor398,12473
void tty_setVendorName(char* t)tty_setVendorName403,12572
void tty_setDeviceName(char* t)tty_setDeviceName421,13217
void tty_setSerialNumber(char* t)tty_setSerialNumber437,13715
void tty_setVendorHeader(char *t)tty_setVendorHeader453,14233
void tty_setSerialNumberHeader(char *t)tty_setSerialNumberHeader463,14464
void tty_setDeviceNameHeader(char *t)tty_setDeviceNameHeader473,14709
void tty_setUSBConfigVendorID(char* t)tty_setUSBConfigVendorID482,14923
void tty_setUSBConfigDeviceID(char* t)tty_setUSBConfigDeviceID492,15165
void tty_setEcho(char* t)tty_setEcho504,15490

eeprom.h,817
#define EEPROM_HEEPROM_H19,804
#define EEMEM EEMEM39,1259
const prog_char _str_cfg[] = "\r\nCfg: 0x%02x";_str_cfg44,1402
uint8_t eep_usbConfig EEMEM;EEMEM66,2026
uint8_t eep_maxUSBHidReportDescriptorBytes EEMEM;EEMEM67,2055
char    eep_usbHidReportDescriptor[USB_CFG_HID_REPORT_DESCRIPTOR_LEN] EEMEM;EEMEM68,2105
int     eep_usbDescriptorStringVendor[USB_DEVICE_STRING_DESCRIPTION_LEN] EEMEM;EEMEM70,2183
int     eep_usbDescriptorStringDevice[USB_DEVICE_STRING_DESCRIPTION_LEN] EEMEM;EEMEM71,2263
int     eep_usbDescriptorSerialNumber[USB_DEVICE_STRING_DESCRIPTION_LEN] EEMEM;EEMEM72,2343
uint8_t eep_usbCfgVendorID[USB_CFG_ID_BYTE_CNT] EEMEM;EEMEM73,2423
uint8_t eep_usbCfgDeviceID[USB_CFG_ID_BYTE_CNT] EEMEM;EEMEM74,2478
uint8_t eep_usbDataSequence[USB_MAX_DATA_SEQ_SIZE] EEMEM;EEMEM75,2533

globals.h,1618
#define __GLOBAL_H____GLOBAL_H__19,812
#define F_CPU F_CPU23,929
#define WITH_INTERPRETERWITH_INTERPRETER33,1216
#define USB_CFG_HID_REPORT_DESCRIPTOR_LEN USB_CFG_HID_REPORT_DESCRIPTOR_LEN37,1324
#define USB_DEVICE_STRING_DESCRIPTION_LEN USB_DEVICE_STRING_DESCRIPTION_LEN40,1426
#define USB_MAX_DATA_BYTES USB_MAX_DATA_BYTES43,1534
#define USB_CFG_ID_BYTE_CNT USB_CFG_ID_BYTE_CNT46,1624
#define USB_MAX_DATA_SEQ_SIZE USB_MAX_DATA_SEQ_SIZE50,1855
#define LED_RED_PORT LED_RED_PORT55,2170
#define LED_YELLOW_PORT LED_YELLOW_PORT56,2200
#define LED_GREEN_PORT LED_GREEN_PORT57,2230
#define LED_RED_PIN LED_RED_PIN58,2260
#define LED_YELLOW_PIN LED_YELLOW_PIN59,2288
#define LED_GREEN_PIN LED_GREEN_PIN60,2316
#define EEP_CFG_USB_HID_REPORT_DESCRIPTOR EEP_CFG_USB_HID_REPORT_DESCRIPTOR64,2485
#define EEP_CFG_USB_DESCRIPTOR_STRING_VENDOR EEP_CFG_USB_DESCRIPTOR_STRING_VENDOR65,2539
#define EEP_CFG_USB_DESCRIPTOR_STRING_DEVICE EEP_CFG_USB_DESCRIPTOR_STRING_DEVICE66,2593
#define EEP_CFG_USB_DESCRIPTOR_STRING_SERIAL_NUMBER EEP_CFG_USB_DESCRIPTOR_STRING_SERIAL_NUMBER67,2647
#define EEP_CFG_USB_CONFIG_VENDOR_ID EEP_CFG_USB_CONFIG_VENDOR_ID68,2701
#define EEP_CFG_USB_CONFIG_DEVICE_ID EEP_CFG_USB_CONFIG_DEVICE_ID69,2755
#define EEP_CFG_USB_DATA_SEQ EEP_CFG_USB_DATA_SEQ70,2809
#define EEP_CFG_USB_CONFIG_INTERPRET_ID EEP_CFG_USB_CONFIG_INTERPRET_ID71,2863
#define EEP_CFG_USB_TYPES EEP_CFG_USB_TYPES73,2918
#define EEP_CFG_USB_STARTS_WITH EEP_CFG_USB_STARTS_WITH74,2993
#define EEP_CFG_VALUE_ON EEP_CFG_VALUE_ON76,3028
#define EEP_CFG_VALUE_OFF EEP_CFG_VALUE_OFF77,3056

main.h,1561
#define MAIN_HMAIN_H19,806
uint8_t maxUSBDataBytes = USB_MAX_DATA_BYTES;maxUSBDataBytes90,2570
uint8_t usbDataSequenceBytes;usbDataSequenceBytes93,2678
static uchar bytesRemaining;bytesRemaining97,2771
static uchar idleRate; // in 4 ms unitsidleRate99,2801
uint8_t dataBytes[USB_MAX_DATA_BYTES];dataBytes102,2884
uint8_t *usbDataSequence; //[USB_MAX_DATA_SEQ_SIZE];usbDataSequence105,3009
typedef struct USB_DescrUSB_Descr111,3180
    uint8_t USBCfgDeviceClass;USBCfgDeviceClass115,3307
    uint8_t USBCfgDeviceSubClass;USBCfgDeviceSubClass116,3338
    uint8_t USBCfgInterfaceClass; // 3USBCfgInterfaceClass118,3409
    uint8_t USBCfgInterfaceSubClass;USBCfgInterfaceSubClass119,3448
    uint8_t USBCfgInterfaceProtocol;USBCfgInterfaceProtocol120,3485
} USB_Descr_t;USB_Descr_t121,3522
USB_Descr_t usb_descr;usb_descr123,3538
uint8_t maxUSBHidReportDescriptorBytes = 22;maxUSBHidReportDescriptorBytes127,3644
char usbHidReportDescriptor[USB_CFG_HID_REPORT_DESCRIPTOR_LEN] = {usbHidReportDescriptor130,3752
int usbDescriptorStringVendor[USB_DEVICE_STRING_DESCRIPTION_LEN+1];usbDescriptorStringVendor146,4444
int usbDescriptorStringDevice[USB_DEVICE_STRING_DESCRIPTION_LEN+1];usbDescriptorStringDevice148,4513
int usbDescriptorStringSerialNumber[USB_DEVICE_STRING_DESCRIPTION_LEN+1];usbDescriptorStringSerialNumber150,4582
char usbDescriptorDevice[] = {    /* USB device descriptor */usbDescriptorDevice152,4657
char usbDescriptorConfiguration[] = {    // USB configuration descriptorusbDescriptorConfiguration173,5770

tty.h,5312
#define TTY_HTTY_H19,801
#define TTY_MAX_CMD_LINE_LEN TTY_MAX_CMD_LINE_LEN36,1185
#define TTY_CMD_WITHOUT_PARAMETER TTY_CMD_WITHOUT_PARAMETER38,1218
#define TTY_CMD_WITH_STRING_PARAMETER TTY_CMD_WITH_STRING_PARAMETER39,1258
#define TTY_READ_MODE_COMMAND TTY_READ_MODE_COMMAND41,1299
#define TTY_READ_MODE_HID_DESCRIPTOR TTY_READ_MODE_HID_DESCRIPTOR42,1338
#define TTY_READ_MODE_USB_DATA_SEQ TTY_READ_MODE_USB_DATA_SEQ43,1377
#define TTY_READ_MODE_HID_DATA TTY_READ_MODE_HID_DATA44,1416
#define TTY_ECHO_ON TTY_ECHO_ON46,1456
#define TTY_ECHO_OFF TTY_ECHO_OFF47,1479
#define TTY_EEP_CFG_USB_OFFSET TTY_EEP_CFG_USB_OFFSET50,1541
const char WELCOME_MSG[] PROGMEM = "\r\n\r\nklaute's HackStick\r\nv0.6 (by klaute)\r\n>";PROGMEM52,1576
struct tty_config_t {tty_config_t113,3386
    uint8_t read_mode:2;read_mode117,3592
    uint8_t echo:1;echo120,3706
    uint8_t empty:5; // Frei f체r weiter Konfigurationszwecke.empty121,3726
} tty_config;tty_config122,3789
unsigned char tty_cb_pos; // Position im Kommando Buffertty_cb_pos124,3804
unsigned char tty_ud_pos; // Position in den zu ver채ndernden Datentty_ud_pos125,3861
char *tty_buff; //[TTY_MAX_CMD_LINE_LEN];tty_buff128,3986
   void (*func)(int); // Zeiger auf die auszuf체hrende Funktionfunc134,4146
   int type;         // das Argument, das mit체bergeben wirdtype135,4210
   char *command;    // Zeiger auf das Kommando im FLASHcommand136,4271
} tty_command_t;tty_command_t137,4328
static FILE _stdout = FDEV_SETUP_STREAM(_uart_putc, NULL, _FDEV_SETUP_WRITE);_stdout198,5962
const prog_char _str_gt[]      = ">";_str_gt203,6153
const prog_char _str_minus[]   = " -";_str_minus204,6191
const prog_char _str_plus[]    = " +";_str_plus205,6230
const prog_char _str_char[]    = "%c";_str_char206,6269
const prog_char _str_decimal[] = "%d";_str_decimal207,6308
const prog_char _str_end[]     = "E";_str_end208,6347
const prog_char _str_error[]   = "ERR";_str_error209,6385
const prog_char _str_bb[]      = "\b \b";_str_bb210,6425
const prog_char _str_ret[]     = "\r\n";_str_ret211,6467
const prog_char _str_ret_gt[]  = "\r\n>";_str_ret_gt212,6508
const prog_char _str_2hex[]    = "0x%02X ";_str_2hex213,6550
const prog_char _str_4hex[]    = "0x%04x";_str_4hex214,6594
const prog_char _str_header[]  = "H=0x%02X\r\n";_str_header215,6637
const prog_char _str_vid[]     = "VID=0x%02x%02x";_str_vid216,6686
const prog_char _str_did[]     = "DID=0x%02x%02x";_str_did217,6737
const prog_char _rledon[]  = "rledon";_rledon222,6914
const prog_char _rledoff[] = "rledoff";_rledoff223,6953
const prog_char _yledon[]  = "yledon";_yledon224,6993
const prog_char _yledoff[] = "yledoff";_yledoff225,7032
const prog_char _gledon[]  = "gledon";_gledon226,7072
const prog_char _gledoff[] = "gledoff";_gledoff227,7111
const prog_char _urst[] = "urst";_urst229,7152
const prog_char _sint[]  = "sint";_sint231,7187
const prog_char _sint3[] = "sint3";_sint3233,7263
const prog_char _isd[] = "isd";_isd237,7331
const prog_char _gdsc[] = "gdsc";_gdsc240,7371
const prog_char _gsd[]  = "gsd";_gsd242,7429
const prog_char _gdta[] = "gdta";_gdta244,7469
const prog_char _sdsc[] = "sdsc";_sdsc246,7504
const prog_char _ssd[]  = "ssd";_ssd248,7562
const prog_char _sdta[] = "sdta";_sdta250,7602
const prog_char _ersd[]  = "ersd";_ersd252,7637
const prog_char _essd[]  = "essd";_essd253,7672
const prog_char _erdsc[] = "erdsc";_erdsc254,7707
const prog_char _esdsc[] = "esdsc";_esdsc255,7743
const prog_char _ervn[]  = "ervn";_ervn257,7780
const prog_char _esvn[]  = "esvn";_esvn258,7815
const prog_char _ern[]   = "ern";_ern259,7850
const prog_char _esn[]   = "esn";_esn260,7884
const prog_char _ersn[]  = "ersn";_ersn261,7918
const prog_char _essn[]  = "essn";_essn262,7953
const prog_char _ercvid[] = "ercvid";_ercvid264,7989
const prog_char _escvid[] = "escvid";_escvid265,8027
const prog_char _ercdid[] = "ercdid";_ercdid266,8065
const prog_char _escdid[] = "escdid";_escdid267,8103
const prog_char _tlosdsc[]  = "tlosdsc";_tlosdsc269,8142
const prog_char _tlossd[]   = "tlossd";_tlossd271,8207
const prog_char _tlosvn[]   = "tlosvn";_tlosvn273,8254
const prog_char _tlosn[]    = "tlosn";_tlosn274,8294
const prog_char _tlossn[]   = "tlossn";_tlossn275,8333
const prog_char _tloscvid[] = "tloscvid";_tloscvid276,8373
const prog_char _tloscdid[] = "tloscdid";_tloscdid277,8415
const prog_char _tiossd[]   = "tiossd";_tiossd279,8481
const prog_char _edcfg[] = "edcfg";_edcfg282,8529
const prog_char _gvn[]   = "gvn";_gvn284,8566
const prog_char _gn[]    = "gn";_gn285,8600
const prog_char _gsn[]   = "gsn";_gsn286,8633
const prog_char _gcvid[] = "gcvid";_gcvid287,8667
const prog_char _gcdid[] = "gcdid";_gcdid288,8703
const prog_char _svn[]   = "svn";_svn289,8739
const prog_char _sn[]    = "sn";_sn290,8773
const prog_char _ssn[]   = "ssn";_ssn291,8806
const prog_char _svnh[] = "svnh";_svnh293,8841
const prog_char _snh[]  = "snh";_snh294,8875
const prog_char _ssnh[] = "ssnh";_ssnh295,8908
const prog_char _scvid[] = "scvid";_scvid297,8943
const prog_char _scdid[] = "scdid";_scdid298,8979
const prog_char _ttye[] = "ttye";_ttye300,9016
const tty_command_t tty_commands[] PROGMEM = {PROGMEM304,9139

usbconfig.h,2981
#define __usbconfig_h_included____usbconfig_h_included__12,391
#define USB_CFG_IOPORTNAME USB_CFG_IOPORTNAME29,1115
#define USB_CFG_DMINUS_BIT USB_CFG_DMINUS_BIT33,1287
#define USB_CFG_DPLUS_BIT USB_CFG_DPLUS_BIT37,1441
#define USB_CFG_CLOCK_KHZ USB_CFG_CLOCK_KHZ46,1974
#define USB_CFG_CHECK_CRC USB_CFG_CHECK_CRC55,2445
#define USB_CFG_HAVE_INTRIN_ENDPOINT USB_CFG_HAVE_INTRIN_ENDPOINT77,3493
#define USB_CFG_HAVE_INTRIN_ENDPOINT3 USB_CFG_HAVE_INTRIN_ENDPOINT382,3707
#define USB_CFG_EP3_NUMBER USB_CFG_EP3_NUMBER88,4058
#define USB_CFG_IMPLEMENT_HALT USB_CFG_IMPLEMENT_HALT98,4585
#define USB_CFG_SUPPRESS_INTR_CODE USB_CFG_SUPPRESS_INTR_CODE104,4898
#define USB_CFG_INTR_POLL_INTERVAL USB_CFG_INTR_POLL_INTERVAL112,5383
#define USB_CFG_IS_SELF_POWERED USB_CFG_IS_SELF_POWERED117,5608
#define USB_CFG_MAX_BUS_POWER USB_CFG_MAX_BUS_POWER121,5772
#define USB_CFG_IMPLEMENT_FN_WRITE USB_CFG_IMPLEMENT_FN_WRITE126,6022
#define USB_CFG_IMPLEMENT_FN_READ USB_CFG_IMPLEMENT_FN_READ131,6231
#define USB_CFG_IMPLEMENT_FN_WRITEOUT USB_CFG_IMPLEMENT_FN_WRITEOUT137,6545
#define USB_CFG_HAVE_FLOWCONTROL USB_CFG_HAVE_FLOWCONTROL143,6856
#define USB_CFG_DRIVER_FLASH_PAGE USB_CFG_DRIVER_FLASH_PAGE148,7064
#define USB_CFG_LONG_TRANSFERS USB_CFG_LONG_TRANSFERS153,7323
#define USB_COUNT_SOF USB_COUNT_SOF174,8440
#define USB_CFG_CHECK_DATA_TOGGLING USB_CFG_CHECK_DATA_TOGGLING198,9670
#define USB_CFG_HAVE_MEASURE_FRAME_LENGTH USB_CFG_HAVE_MEASURE_FRAME_LENGTH206,10162
#define USB_USE_FAST_CRC USB_USE_FAST_CRC210,10367
#define  USB_CFG_VENDOR_ID USB_CFG_VENDOR_ID221,10919
#define  USB_CFG_DEVICE_ID USB_CFG_DEVICE_ID227,11284
#define USB_CFG_DEVICE_VERSION USB_CFG_DEVICE_VERSION239,11968
#define USB_CFG_DEVICE_CLASS USB_CFG_DEVICE_CLASS267,13386
#define USB_CFG_DEVICE_SUBCLASS USB_CFG_DEVICE_SUBCLASS268,13424
#define USB_CFG_INTERFACE_CLASS USB_CFG_INTERFACE_CLASS272,13579
#define USB_CFG_INTERFACE_SUBCLASS USB_CFG_INTERFACE_SUBCLASS273,13617
#define USB_CFG_INTERFACE_PROTOCOL USB_CFG_INTERFACE_PROTOCOL274,13655
#define USB_CFG_HID_REPORT_DESCRIPTOR_LENGTH	USB_CFG_HID_REPORT_DESCRIPTOR_LENGTH280,13974
#define USB_CFG_DESCR_PROPS_DEVICE USB_CFG_DESCR_PROPS_DEVICE345,17073
#define USB_CFG_DESCR_PROPS_CONFIGURATION USB_CFG_DESCR_PROPS_CONFIGURATION346,17167
#define USB_CFG_DESCR_PROPS_STRINGS USB_CFG_DESCR_PROPS_STRINGS347,17261
#define USB_CFG_DESCR_PROPS_STRING_0 USB_CFG_DESCR_PROPS_STRING_0348,17315
#define USB_CFG_DESCR_PROPS_STRING_VENDOR USB_CFG_DESCR_PROPS_STRING_VENDOR349,17369
#define USB_CFG_DESCR_PROPS_STRING_PRODUCT USB_CFG_DESCR_PROPS_STRING_PRODUCT350,17463
#define USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER351,17557
#define USB_CFG_DESCR_PROPS_HID USB_CFG_DESCR_PROPS_HID352,17651
#define USB_CFG_DESCR_PROPS_HID_REPORT USB_CFG_DESCR_PROPS_HID_REPORT353,17705
#define USB_CFG_DESCR_PROPS_UNKNOWN USB_CFG_DESCR_PROPS_UNKNOWN354,17799

usbdrv/usbdrv.c,5334
uchar usbRxBuf[2*USB_BUFSIZE];  /* raw RX buffer: PID, 8 bytes data, 2 bytes CRC */usbRxBuf26,759
uchar       usbInputBufOffset;  /* offset in usbRxBuf used for low level receiving */usbInputBufOffset27,843
uchar       usbDeviceAddr;      /* assigned during enumeration, defaults to 0 */usbDeviceAddr28,929
uchar       usbNewDeviceAddr;   /* device ID which should be set after status phase */usbNewDeviceAddr29,1010
uchar       usbConfiguration;   /* currently selected configuration. Administered by driver, but not used */usbConfiguration30,1097
volatile schar usbRxLen;        /* = 0; number of bytes in usbRxBuf; 0 means free, -1 for flow control */usbRxLen31,1206
uchar       usbCurrentTok;      /* last token received or endpoint number for last OUT token if != 0 */usbCurrentTok32,1312
uchar       usbRxToken;         /* token for data we received; or endpont number for last OUT */usbRxToken33,1416
volatile uchar usbTxLen = USBPID_NAK;   /* number of bytes to transmit with next IN token or handshake token */usbTxLen34,1513
uchar       usbTxBuf[USB_BUFSIZE];/* data to transmit with next IN, free if usbTxLen contains handshake token */usbTxBuf35,1625
volatile uchar  usbSofCount;    /* incremented by assembler module every SOF */usbSofCount37,1756
usbTxStatus_t  usbTxStatus1;usbTxStatus140,1907
usbTxStatus_t  usbTxStatus3;usbTxStatus342,1973
uchar       usbCurrentDataToken;/* when we check data toggling to ignore duplicate packets */usbCurrentDataToken46,2051
uchar               *usbMsgPtr;     /* data to transmit next -- ROM or RAM address */usbMsgPtr50,2207
static usbMsgLen_t  usbMsgLen = USB_NO_MSG; /* remaining number of bytes */usbMsgLen51,2293
static uchar        usbMsgFlags;    /* flag values see below */usbMsgFlags52,2369
#define USB_FLG_MSGPTR_IS_ROM USB_FLG_MSGPTR_IS_ROM54,2434
#define USB_FLG_USE_USER_RW USB_FLG_USE_USER_RW55,2473
#undef USB_CFG_DESCR_PROPS_STRING_0USB_CFG_DESCR_PROPS_STRING_070,2980
#define USB_CFG_DESCR_PROPS_STRING_0 USB_CFG_DESCR_PROPS_STRING_071,3016
PROGMEM char usbDescriptorString0[] = { /* language descriptor */usbDescriptorString072,3085
#undef USB_CFG_DESCR_PROPS_STRING_VENDORUSB_CFG_DESCR_PROPS_STRING_VENDOR80,3411
#define USB_CFG_DESCR_PROPS_STRING_VENDOR USB_CFG_DESCR_PROPS_STRING_VENDOR81,3452
PROGMEM int  usbDescriptorStringVendor[] = {usbDescriptorStringVendor82,3530
#undef USB_CFG_DESCR_PROPS_STRING_PRODUCTUSB_CFG_DESCR_PROPS_STRING_PRODUCT89,3740
#define USB_CFG_DESCR_PROPS_STRING_PRODUCT USB_CFG_DESCR_PROPS_STRING_PRODUCT90,3782
PROGMEM int  usbDescriptorStringDevice[] = {usbDescriptorStringDevice91,3861
#undef USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBERUSB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER98,4079
#define USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER99,4127
PROGMEM int usbDescriptorStringSerialNumber[] = {usbDescriptorStringSerialNumber100,4219
#undef USB_CFG_DESCR_PROPS_DEVICEUSB_CFG_DESCR_PROPS_DEVICE111,4532
#define USB_CFG_DESCR_PROPS_DEVICE USB_CFG_DESCR_PROPS_DEVICE112,4566
PROGMEM char usbDescriptorDevice[] = {    /* USB device descriptor */usbDescriptorDevice113,4630
#undef USB_CFG_DESCR_PROPS_HIDUSB_CFG_DESCR_PROPS_HID137,5800
#define USB_CFG_DESCR_PROPS_HID USB_CFG_DESCR_PROPS_HID138,5831
#undef USB_CFG_DESCR_PROPS_CONFIGURATIONUSB_CFG_DESCR_PROPS_CONFIGURATION142,5980
#define USB_CFG_DESCR_PROPS_CONFIGURATION USB_CFG_DESCR_PROPS_CONFIGURATION143,6021
PROGMEM char usbDescriptorConfiguration[] = {    /* USB configuration descriptor */usbDescriptorConfiguration144,6100
static inline void  usbResetDataToggling(void)usbResetDataToggling199,8836
static inline void  usbResetStall(void)usbResetStall209,9200
static void usbGenericSetInterrupt(uchar *data, uchar len, usbTxStatus_t *txStatus)usbGenericSetInterrupt223,9562
USB_PUBLIC void usbSetInterrupt(uchar *data, uchar len)usbSetInterrupt249,10494
USB_PUBLIC void usbSetInterrupt3(uchar *data, uchar len)usbSetInterrupt3256,10650
#   define SWITCH_START(SWITCH_START271,11168
#   define SWITCH_CASE(SWITCH_CASE272,11217
#   define SWITCH_CASE2(SWITCH_CASE2273,11275
#   define SWITCH_CASE3(SWITCH_CASE3274,11340
#   define SWITCH_DEFAULT SWITCH_DEFAULT275,11415
#   define SWITCH_END SWITCH_END276,11468
#   define SWITCH_START(SWITCH_START278,11512
#   define SWITCH_CASE(SWITCH_CASE279,11573
#   define SWITCH_CASE2(SWITCH_CASE2280,11635
#   define SWITCH_CASE3(SWITCH_CASE3281,11710
#   define SWITCH_DEFAULT SWITCH_DEFAULT282,11801
#   define SWITCH_END SWITCH_END283,11843
#define USB_RX_USER_HOOK(USB_RX_USER_HOOK287,11914
#define USB_SET_ADDRESS_HOOK(USB_SET_ADDRESS_HOOK290,11986
#define GET_DESCRIPTOR(GET_DESCRIPTOR300,12338
static inline usbMsgLen_t usbDriverDescriptor(usbRequest_t *rq)usbDriverDescriptor315,13006
static inline usbMsgLen_t usbDriverSetup(usbRequest_t *rq)usbDriverSetup366,15190
static inline void usbProcessRx(uchar *data, uchar len)usbProcessRx426,17651
static uchar usbDeviceRead(uchar *data, uchar len)usbDeviceRead498,20748
static inline void usbBuildTxBlock(void)usbBuildTxBlock530,21744
static inline void usbHandleResetHook(uchar notResetState)usbHandleResetHook558,22572
USB_PUBLIC void usbPoll(void)usbPoll573,22911
USB_PUBLIC void usbInit(void)usbInit617,24269

usbdrv/usbconfig-prototype.h,3140
#define __usbconfig_h_included____usbconfig_h_included__12,439
#define USB_CFG_IOPORTNAME USB_CFG_IOPORTNAME29,1163
#define USB_CFG_DMINUS_BIT USB_CFG_DMINUS_BIT33,1335
#define USB_CFG_DPLUS_BIT USB_CFG_DPLUS_BIT37,1489
#define USB_CFG_CLOCK_KHZ USB_CFG_CLOCK_KHZ46,2022
#define USB_CFG_CHECK_CRC USB_CFG_CHECK_CRC55,2493
#define USB_CFG_HAVE_INTRIN_ENDPOINT USB_CFG_HAVE_INTRIN_ENDPOINT78,3542
#define USB_CFG_HAVE_INTRIN_ENDPOINT3 USB_CFG_HAVE_INTRIN_ENDPOINT383,3756
#define USB_CFG_EP3_NUMBER USB_CFG_EP3_NUMBER89,4107
#define USB_CFG_IMPLEMENT_HALT USB_CFG_IMPLEMENT_HALT99,4634
#define USB_CFG_SUPPRESS_INTR_CODE USB_CFG_SUPPRESS_INTR_CODE105,4947
#define USB_CFG_INTR_POLL_INTERVAL USB_CFG_INTR_POLL_INTERVAL113,5432
#define USB_CFG_IS_SELF_POWERED USB_CFG_IS_SELF_POWERED118,5656
#define USB_CFG_MAX_BUS_POWER USB_CFG_MAX_BUS_POWER122,5820
#define USB_CFG_IMPLEMENT_FN_WRITE USB_CFG_IMPLEMENT_FN_WRITE127,6070
#define USB_CFG_IMPLEMENT_FN_READ USB_CFG_IMPLEMENT_FN_READ132,6279
#define USB_CFG_IMPLEMENT_FN_WRITEOUT USB_CFG_IMPLEMENT_FN_WRITEOUT138,6593
#define USB_CFG_HAVE_FLOWCONTROL USB_CFG_HAVE_FLOWCONTROL144,6904
#define USB_CFG_DRIVER_FLASH_PAGE USB_CFG_DRIVER_FLASH_PAGE149,7112
#define USB_CFG_LONG_TRANSFERS USB_CFG_LONG_TRANSFERS154,7371
#define USB_COUNT_SOF USB_COUNT_SOF175,8488
#define USB_CFG_CHECK_DATA_TOGGLING USB_CFG_CHECK_DATA_TOGGLING199,9718
#define USB_CFG_HAVE_MEASURE_FRAME_LENGTH USB_CFG_HAVE_MEASURE_FRAME_LENGTH207,10210
#define USB_USE_FAST_CRC USB_USE_FAST_CRC211,10415
#define  USB_CFG_VENDOR_ID USB_CFG_VENDOR_ID222,10967
#define  USB_CFG_DEVICE_ID USB_CFG_DEVICE_ID231,11471
#define USB_CFG_DEVICE_VERSION USB_CFG_DEVICE_VERSION242,12076
#define USB_CFG_VENDOR_NAME USB_CFG_VENDOR_NAME245,12195
#define USB_CFG_VENDOR_NAME_LEN USB_CFG_VENDOR_NAME_LEN246,12266
#define USB_CFG_DEVICE_NAME USB_CFG_DEVICE_NAME255,12742
#define USB_CFG_DEVICE_NAME_LEN USB_CFG_DEVICE_NAME_LEN256,12813
#define USB_CFG_DEVICE_CLASS USB_CFG_DEVICE_CLASS270,13492
#define USB_CFG_DEVICE_SUBCLASS USB_CFG_DEVICE_SUBCLASS271,13576
#define USB_CFG_INTERFACE_CLASS USB_CFG_INTERFACE_CLASS275,13731
#define USB_CFG_INTERFACE_SUBCLASS USB_CFG_INTERFACE_SUBCLASS276,13818
#define USB_CFG_INTERFACE_PROTOCOL USB_CFG_INTERFACE_PROTOCOL277,13856
#define USB_CFG_DESCR_PROPS_DEVICE USB_CFG_DESCR_PROPS_DEVICE348,17283
#define USB_CFG_DESCR_PROPS_CONFIGURATION USB_CFG_DESCR_PROPS_CONFIGURATION349,17337
#define USB_CFG_DESCR_PROPS_STRINGS USB_CFG_DESCR_PROPS_STRINGS350,17391
#define USB_CFG_DESCR_PROPS_STRING_0 USB_CFG_DESCR_PROPS_STRING_0351,17445
#define USB_CFG_DESCR_PROPS_STRING_VENDOR USB_CFG_DESCR_PROPS_STRING_VENDOR352,17499
#define USB_CFG_DESCR_PROPS_STRING_PRODUCT USB_CFG_DESCR_PROPS_STRING_PRODUCT353,17553
#define USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER354,17607
#define USB_CFG_DESCR_PROPS_HID USB_CFG_DESCR_PROPS_HID355,17661
#define USB_CFG_DESCR_PROPS_HID_REPORT USB_CFG_DESCR_PROPS_HID_REPORT356,17715
#define USB_CFG_DESCR_PROPS_UNKNOWN USB_CFG_DESCR_PROPS_UNKNOWN357,17769

usbdrv/usbdrv.h,7555
#define __usbdrv_h_included____usbdrv_h_included__12,420
#define USBDRV_VERSION USBDRV_VERSION125,6285
#define USB_PUBLICUSB_PUBLIC135,6668
#define uchar uchar146,7111
#define schar schar149,7162
#   define usbMsgLen_t usbMsgLen_t154,7331
#   define usbMsgLen_t usbMsgLen_t156,7369
#define USB_NO_MSG USB_NO_MSG164,7761
#define usbInterruptIsReady(usbInterruptIsReady227,11245
#define usbInterruptIsReady3(usbInterruptIsReady3234,11583
#define usbHidReportDescriptor usbHidReportDescriptor239,11817
#define usbDeviceConnect(usbDeviceConnect289,14690
#define usbDeviceDisconnect(usbDeviceDisconnect291,14849
#define usbDeviceConnect(usbDeviceConnect294,15048
#define usbDeviceDisconnect(usbDeviceDisconnect295,15107
#define usbCrc16(usbCrc16310,15998
#define usbCrc16Append(usbCrc16Append318,16440
#define USB_STRING_DESCRIPTOR_HEADER(USB_STRING_DESCRIPTOR_HEADER353,17968
#define usbDisableAllRequests(usbDisableAllRequests359,18256
#define usbEnableAllRequests(usbEnableAllRequests364,18490
#define usbAllRequestsAreDisabled(usbAllRequestsAreDisabled368,18699
#define USB_SET_DATATOKEN1(USB_SET_DATATOKEN1375,18927
#define USB_SET_DATATOKEN3(USB_SET_DATATOKEN3376,18984
#define USB_PROP_IS_DYNAMIC USB_PROP_IS_DYNAMIC393,19752
#define USB_PROP_IS_RAM USB_PROP_IS_RAM399,20044
#define USB_PROP_LENGTH(USB_PROP_LENGTH404,20262
#define USB_CFG_DESCR_PROPS_DEVICE USB_CFG_DESCR_PROPS_DEVICE411,20500
#define USB_CFG_DESCR_PROPS_CONFIGURATION USB_CFG_DESCR_PROPS_CONFIGURATION414,20603
#define USB_CFG_DESCR_PROPS_STRINGS USB_CFG_DESCR_PROPS_STRINGS417,20700
#define USB_CFG_DESCR_PROPS_STRING_0 USB_CFG_DESCR_PROPS_STRING_0420,20798
#define USB_CFG_DESCR_PROPS_STRING_VENDOR USB_CFG_DESCR_PROPS_STRING_VENDOR423,20901
#define USB_CFG_DESCR_PROPS_STRING_PRODUCT USB_CFG_DESCR_PROPS_STRING_PRODUCT426,21005
#define USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER429,21115
#define USB_CFG_DESCR_PROPS_HID USB_CFG_DESCR_PROPS_HID432,21208
#   undef USB_CFG_DESCR_PROPS_HID_REPORTUSB_CFG_DESCR_PROPS_HID_REPORT435,21307
#       define USB_CFG_DESCR_PROPS_HID_REPORT USB_CFG_DESCR_PROPS_HID_REPORT437,21436
#       define USB_CFG_DESCR_PROPS_HID_REPORT USB_CFG_DESCR_PROPS_HID_REPORT439,21534
#define USB_CFG_DESCR_PROPS_UNKNOWN USB_CFG_DESCR_PROPS_UNKNOWN443,21641
#define USB_CONCAT(USB_CONCAT499,22975
#define USB_CONCAT_EXPANDED(USB_CONCAT_EXPANDED500,23018
#define USB_OUTPORT(USB_OUTPORT502,23072
#define USB_INPORT(USB_INPORT503,23131
#define USB_DDRPORT(USB_DDRPORT504,23189
#   define  USB_CFG_VENDOR_ID USB_CFG_VENDOR_ID522,23985
#       define USB_CFG_DEVICE_ID USB_CFG_DEVICE_ID527,24139
#       define USB_CFG_DEVICE_ID USB_CFG_DEVICE_ID529,24267
#       define USB_CFG_DEVICE_ID USB_CFG_DEVICE_ID531,24372
#define USBOUT USBOUT540,24665
#define USB_PULLUP_OUT USB_PULLUP_OUT541,24721
#define USBIN USBIN542,24784
#define USBDDR USBDDR543,24839
#define USB_PULLUP_DDR USB_PULLUP_DDR544,24895
#define USBMINUS USBMINUS546,24959
#define USBPLUS USBPLUS547,24998
#define USBIDLE USBIDLE548,25036
#define USBMASK USBMASK549,25113
#define USB_CFG_IOPORT USB_CFG_IOPORT552,25283
#define USB_CFG_PULLUP_IOPORT USB_CFG_PULLUP_IOPORT554,25380
#define USB_CFG_EP3_NUMBER USB_CFG_EP3_NUMBER558,25523
#define USB_CFG_HAVE_INTRIN_ENDPOINT3 USB_CFG_HAVE_INTRIN_ENDPOINT3562,25599
#define USB_BUFSIZE USB_BUFSIZE565,25649
#       define USB_INTR_CFG USB_INTR_CFG571,25884
#       define USB_INTR_CFG USB_INTR_CFG573,25927
#       define USB_INTR_CFG_SET USB_INTR_CFG_SET578,26102
#       define USB_INTR_CFG_SET USB_INTR_CFG_SET583,26336
#   define USB_INTR_CFG_CLR USB_INTR_CFG_CLR587,26512
#       define USB_INTR_ENABLE USB_INTR_ENABLE592,26666
#       define USB_INTR_ENABLE USB_INTR_ENABLE594,26727
#       define USB_INTR_ENABLE USB_INTR_ENABLE596,26774
#   define USB_INTR_ENABLE_BIT USB_INTR_ENABLE_BIT600,26897
#       define USB_INTR_PENDING USB_INTR_PENDING605,27032
#       define USB_INTR_PENDING USB_INTR_PENDING607,27078
#   define USB_INTR_PENDING_BIT USB_INTR_PENDING_BIT611,27205
#define USBPID_SETUP USBPID_SETUP631,27928
#define USBPID_OUT USBPID_OUT632,27957
#define USBPID_IN USBPID_IN633,27986
#define USBPID_DATA0 USBPID_DATA0634,28015
#define USBPID_DATA1 USBPID_DATA1635,28044
#define USBPID_ACK USBPID_ACK637,28074
#define USBPID_NAK USBPID_NAK638,28103
#define USBPID_STALL USBPID_STALL639,28132
#define USB_INITIAL_DATATOKEN USB_INITIAL_DATATOKEN642,28192
typedef struct usbTxStatus{usbTxStatus647,28268
    volatile uchar   len;len648,28296
    uchar   buffer[USB_BUFSIZE];buffer649,28322
}usbTxStatus_t;usbTxStatus_t650,28355
#define usbTxLen1 usbTxLen1653,28423
#define usbTxBuf1 usbTxBuf1654,28460
#define usbTxLen3 usbTxLen3655,28500
#define usbTxBuf3 usbTxBuf3656,28537
typedef union usbWord{usbWord659,28579
    unsigned    word;word660,28602
    uchar       bytes[2];bytes661,28624
}usbWord_t;usbWord_t662,28650
typedef struct usbRequest{usbRequest664,28663
    uchar       bmRequestType;bmRequestType665,28690
    uchar       bRequest;bRequest666,28721
    usbWord_t   wValue;wValue667,28747
    usbWord_t   wIndex;wIndex668,28771
    usbWord_t   wLength;wLength669,28795
}usbRequest_t;usbRequest_t670,28820
#define USBRQ_RCPT_MASK USBRQ_RCPT_MASK682,29175
#define USBRQ_RCPT_DEVICE USBRQ_RCPT_DEVICE683,29212
#define USBRQ_RCPT_INTERFACE USBRQ_RCPT_INTERFACE684,29246
#define USBRQ_RCPT_ENDPOINT USBRQ_RCPT_ENDPOINT685,29280
#define USBRQ_TYPE_MASK USBRQ_TYPE_MASK688,29345
#define USBRQ_TYPE_STANDARD USBRQ_TYPE_STANDARD689,29382
#define USBRQ_TYPE_CLASS USBRQ_TYPE_CLASS690,29421
#define USBRQ_TYPE_VENDOR USBRQ_TYPE_VENDOR691,29460
#define USBRQ_DIR_MASK USBRQ_DIR_MASK694,29528
#define USBRQ_DIR_HOST_TO_DEVICE USBRQ_DIR_HOST_TO_DEVICE695,29569
#define USBRQ_DIR_DEVICE_TO_HOST USBRQ_DIR_DEVICE_TO_HOST696,29612
#define USBRQ_GET_STATUS USBRQ_GET_STATUS699,29684
#define USBRQ_CLEAR_FEATURE USBRQ_CLEAR_FEATURE700,29718
#define USBRQ_SET_FEATURE USBRQ_SET_FEATURE701,29752
#define USBRQ_SET_ADDRESS USBRQ_SET_ADDRESS702,29786
#define USBRQ_GET_DESCRIPTOR USBRQ_GET_DESCRIPTOR703,29820
#define USBRQ_SET_DESCRIPTOR USBRQ_SET_DESCRIPTOR704,29854
#define USBRQ_GET_CONFIGURATION USBRQ_GET_CONFIGURATION705,29888
#define USBRQ_SET_CONFIGURATION USBRQ_SET_CONFIGURATION706,29922
#define USBRQ_GET_INTERFACE USBRQ_GET_INTERFACE707,29956
#define USBRQ_SET_INTERFACE USBRQ_SET_INTERFACE708,29991
#define USBRQ_SYNCH_FRAME USBRQ_SYNCH_FRAME709,30026
#define USBDESCR_DEVICE USBDESCR_DEVICE712,30093
#define USBDESCR_CONFIG USBDESCR_CONFIG713,30127
#define USBDESCR_STRING USBDESCR_STRING714,30161
#define USBDESCR_INTERFACE USBDESCR_INTERFACE715,30195
#define USBDESCR_ENDPOINT USBDESCR_ENDPOINT716,30229
#define USBDESCR_HID USBDESCR_HID717,30263
#define USBDESCR_HID_REPORT USBDESCR_HID_REPORT718,30300
#define USBDESCR_HID_PHYS USBDESCR_HID_PHYS719,30337
#define USBATTR_SELFPOWER USBATTR_SELFPOWER722,30462
#define USBATTR_REMOTEWAKE USBATTR_REMOTEWAKE723,30499
#define USBRQ_HID_GET_REPORT USBRQ_HID_GET_REPORT726,30560
#define USBRQ_HID_GET_IDLE USBRQ_HID_GET_IDLE727,30597
#define USBRQ_HID_GET_PROTOCOL USBRQ_HID_GET_PROTOCOL728,30634
#define USBRQ_HID_SET_REPORT USBRQ_HID_SET_REPORT729,30671
#define USBRQ_HID_SET_IDLE USBRQ_HID_SET_IDLE730,30708
#define USBRQ_HID_SET_PROTOCOL USBRQ_HID_SET_PROTOCOL731,30745

usbdrv/usbportability.h,1379
#define __usbportability_h_INCLUDED____usbportability_h_INCLUDED__25,887
#   define ENABLE_BIT_DEFINITIONS	ENABLE_BIT_DEFINITIONS34,1282
#define __attribute__(__attribute__43,1460
#   define __ASSEMBLER__ __ASSEMBLER__46,1543
#   define PROGMEM PROGMEM50,1648
#   define PROGMEM PROGMEM52,1684
#define USB_READ_FLASH(USB_READ_FLASH55,1719
#define cli(cli60,1908
#define sei(sei61,1950
#define wdt_reset(wdt_reset62,1991
#define _BV(_BV63,2030
#define nop2 nop266,2099
#define XL XL67,2158
#define XH XH68,2178
#define YL YL69,2198
#define YH YH70,2218
#define ZL ZL71,2238
#define ZH ZH72,2258
#define lo8(lo873,2278
#define hi8(hi874,2301
#define __attribute__(__attribute__94,3199
#define PROGMEM PROGMEM96,3255
#define USB_READ_FLASH(USB_READ_FLASH97,3295
static inline void  cli(void)cli100,3376
static inline void  sei(void)sei104,3427
#define _delay_ms(_delay_ms109,3485
#define _BV(_BV110,3521
#define USB_CFG_USE_SWITCH_STATEMENT USB_CFG_USE_SWITCH_STATEMENT111,3556
#define macro macro113,3651
#define endm endm114,3674
#define nop2 nop2115,3700
#   define _VECTOR(_VECTOR123,4028
#   define USB_READ_FLASH(USB_READ_FLASH129,4182
#   define USB_READ_FLASH(USB_READ_FLASH131,4297
#define macro macro134,4360
#define endm endm135,4383
#define nop2 nop2136,4405
#   define PRG_RDB(PRG_RDB142,4570

usbdrv/usbdrvasm.S,1367
#define __SFR_OFFSET 0      /* used by avr-libc's register definitions */__SFR_OFFSET18,615
#define x1      r16x123,789
#define x2      r17x224,809
#define shift   r18shift25,829
#define cnt     r19cnt26,849
#define x3      r20x327,869
#define x4      r21x428,889
#define x5		r22x529,909
#define bitcnt  x5bitcnt30,925
#define phase   x4phase31,944
#define leap    x4leap32,963
#define usbTxLen1   usbTxStatus1usbTxLen182,2530
#define usbTxBuf1   (usbTxStatus1 + 1)usbTxBuf183,2563
#define usbTxLen3   usbTxStatus3usbTxLen384,2602
#define usbTxBuf3   (usbTxStatus3 + 1)usbTxBuf385,2635
RTMODEL "__rt_version", "3"RTMODEL101,3264
usbCrc16:usbCrc16178,5263
usbCrc16ByteLoop:usbCrc16ByteLoop184,5406
usbCrc16LoopTest:usbCrc16LoopTest212,6220
usbCrc16:usbCrc16233,6692
usbCrcByteLoop:usbCrcByteLoop243,7057
usbCrcBitLoop:usbCrcBitLoop246,7122
usbCrcNoXor:usbCrcNoXor252,7311
usbCrcLoopEntry:usbCrcLoopEntry255,7424
usbCrcReady:usbCrcReady258,7491
usbCrc16Append:usbCrc16Append265,7681
usbMeasureFrameLength:usbMeasureFrameLength320,9108
usbMFTime16:usbMFTime16324,9224
usbMFWaitStrobe:            ; first wait for D- == 0 (idle strobe)usbMFWaitStrobe327,9279
usbMFWaitIdle:              ; then wait until idle againusbMFWaitIdle332,9482
usbMFWaitLoop:usbMFWaitLoop337,9705
usbMFTimeout:usbMFTimeout343,9889
